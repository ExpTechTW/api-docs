---
sidebar_position: 4
---

# QuakeWatch-Pro

## 概述

QuakeWatch-Pro 是一款專為地震儀（ES 系列）設計的配套軟體，可透過 USB Type-C 串列埠（UART）連接地震儀，並即時顯示地震波形資料。

## 環境需求

:::tip Python 版本

- **版本要求：** `3.10` ≤ Python ≤ `3.12`
- **推薦版本：** Python `3.10`、`3.11` 或 `3.12`
- [前往 Python 官網下載](https://www.python.org/downloads/)

:::

## 下載

import GithubRepoCard from "@site/src/components/GithubRepoCard";

<GithubRepoCard
  owner="ExpTechTW"
  repo="QuakeWatch-Pro"
  displayName="QuakeWatch-Pro"
  description="專為地震儀設計的配套軟體，可透過 USB 連接並顯示地震波形資料"
/>

## 安裝步驟

### 第 1 步：切換到專案目錄

切換到 QuakeWatch-Pro 的目錄：

```bash
cd ./Documents/GitHub/QuakeWatch-Pro
```

:::tip 路徑設定

路徑請根據自己的實際情況修改。

:::

### 第 2 步：建立虛擬環境（建議）

:::tip 建議使用虛擬環境

使用虛擬環境可以避免套件衝突，建議在開始前先建立。

**macOS / Linux:**

```bash
python3 -m venv venv
source venv/bin/activate
```

**Windows:**

```bash
python -m venv venv
.\venv\Scripts\activate
```

:::

### 第 3 步：安裝依賴套件

在虛擬環境中安裝所需的依賴套件：

```bash
pip install -r requirements.txt
```

## 使用方式

### 第 1 步：啟動資料收集程式

先執行 `data_collector.py` 來收集地震儀的資料：

```bash
python data_collector.py
```

#### 選擇串列埠

執行後會顯示可用的串列埠列表：

```bash
(venv) C:\Users\kai\Documents\GitHub\QuakeWatch-Pro>python data_collector.py
QuakeWatch - ES-Net Serial Data Collector
============================================================
✓ 數據庫已初始化: earthquake_data.db

可用串列埠:
[0] COM4 - Silicon Labs CP210x USB to UART Bridge (COM4)
[1] COM1 - 通訊連接埠 (COM1)

請選擇 [0-1] 或 q 退出:
```

選擇要使用的串列埠，輸入編號後按下 `Enter` 鍵。

#### 確認連接成功

成功連接後會看到以下輸出：

```bash
請選擇 [0-1] 或 q 退出: 0

✓ 已連接: COM4 @ 115200 baud
[收集線程] 已啟動

開始收集數據... (按 Ctrl+C 停止)
[統計 05:10:06] 原始:0(0.0/s) | 濾波:0(0.0/s) | 震度:0(0.0/s) | 錯誤:0
```

這代表資料收集正在正常進行中。

### 第 2 步：啟動波形圖顯示程式

在另一個終端視窗中執行 `main.py` 來顯示波形圖：

```bash
python main.py
```

#### 確認程式運行

成功啟動後會看到以下輸出：

```bash
(venv) C:\Users\kai\Documents\GitHub\QuakeWatch-Pro>python main.py
QuakeWatch - ES-Net Data Visualization
============================================================

✓ 數據庫文件: earthquake_data.db

開始接收資料...

[解析線程] 已啟動 (時間窗口: 60 秒)
```

這代表波形圖顯示程式正在正常運行。

:::warning 重要提醒

**執行順序很重要！**

1. ✅ **先執行** `data_collector.py` 收集資料
2. ✅ **再執行** `main.py` 顯示波形圖
3. ❌ **不要**先直接執行 `main.py`
4. ❌ **不要**關閉 `data_collector.py` 只執行 `main.py`，否則會導致資料收集不完全

兩個程式需要**同時運行**才能正常運作。

:::
